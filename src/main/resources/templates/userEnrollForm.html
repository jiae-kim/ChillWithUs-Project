<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>CWU íšŒì›ê°€ì…</title>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <style>
        div{box-sizing: border-box;}
        .content{
            background-color: black;
            width:60%;
            margin:auto;
        }
        .innerOuter{
            border:1px solid black;
            width:90%;
            margin:auto;
            padding:5% 15%;
            background: black;
            color: white;
            font-size: 17px;
            font-weight: bold;
        }
    </style>
</head>
<body>
<div th:insert="~{menubar :: menubar}"></div>

<div class="content">
    <br>
    <div class="innerOuter">
        <h2 align="center" style="font-weight: bold;">Chill With Us íšŒì›ê°€ì…</h2><br>
        <h5 align="center" class="text-warning">ğŸ§¡ íšŒì›ê°€ì… í›„ ì¦ê¸¸ ìˆ˜ ìˆì–´ìš” ğŸ§¡</h5>
        <br>

        <form action="insert.me" method="post" id="enrollForm">
            <div class="form-group">
                <label for="userId">ID :</label>
                <input type="text" class="form-control" id="userId" name="" placeholder="ì˜ë¬¸, ìˆ«ì ì¡°í•© 6~12ìë¦¬" required><br>

                <!-- ì•„ì´ë”” ì¤‘ë³µì²´í¬ -->
                <label id="checkResult" style="font-size: 1em; display: none;"></label>

                <label for="userPwd">Password :</label>
                <input type="password" class="form-control" id="userPwd" name="" placeholder="ì˜ë¬¸, ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì(~!@#$%^&*) ì¡°í•© 8~15ìë¦¬" required><br>

                <label for="checkPwd">Password Check :</label>
                <input type="password" class="form-control" id="checkPwd" placeholder="ë¹„ë°€ë²ˆí˜¸ í™•ì¸" required><br>

                <label for="userName">Name :</label>
                <input type="text" class="form-control" id="userName" name="" placeholder="ì´ë¦„" required><br>

                <label for="userNickname">Nickname :</label>
                <input type="text" class="form-control" id="userNickname" name="" placeholder="cwuì—ì„œ ì‚¬ìš©í•  ë‹‰ë„¤ì„ì„ ì ì–´ì£¼ì„¸ìš”" required><br>

                <label for="userBirth">Birth :</label>
                <input type="text" class="form-control" id="birth" name="" placeholder="ìƒë…„ì›”ì¼ (yyyymmdd)"><br>

                <label for="userPhone">Phone :</label>
                <input type="tel" class="form-control" id="userPhone" name="" placeholder="ì „í™”ë²ˆí˜¸ (-ì—†ì´)"><br>

                <label for="userAddress">Address :</label><br>
                <input type="text" size="10" height="18" style="border:1px solid lightgray;" id="postcode" placeholder="ìš°í¸ë²ˆí˜¸">
                <input type="button" class="btn btn-info m-btn--air"  onclick="DaumPostcode()" value="ê²€ìƒ‰"><br>
                <input type="text" class="form-control" id="address" placeholder="ì£¼ì†Œë¥¼ ê²€ìƒ‰í•˜ì„¸ìš”">
                <input type="text" class="form-control" id="detailAddress" placeholder="ìƒì„¸ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                <input type="text" class="form-control" id="extraAddress" placeholder="ì°¸ê³ í•­ëª©ì„ ê²€ìƒ‰í•˜ì„¸ìš”"><br>

                <div id="wrap" style="display:none;border:1px solid;width:500px;height:300px;margin:5px 0;position:relative">
                    <img src="//t1.daumcdn.net/postcode/resource/images/close.png" id="btnFoldWrap" style="cursor:pointer;position:absolute;right:0px;top:-1px;z-index:1" onclick="foldDaumPostcode()" alt="ì ‘ê¸° ë²„íŠ¼">
                </div>

                <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
                <script>
                    // ìš°í¸ë²ˆí˜¸ ì°¾ê¸° ì°¾ê¸° í™”ë©´ì„ ë„£ì„ element
                    var element_wrap = document.getElementById('wrap');

                    function foldDaumPostcode() {
                        // iframeì„ ë„£ì€ elementë¥¼ ì•ˆë³´ì´ê²Œ í•œë‹¤.
                        element_wrap.style.display = 'none';
                    }

                    function DaumPostcode() {
                        // í˜„ì¬ scroll ìœ„ì¹˜ë¥¼ ì €ì¥í•´ë†“ëŠ”ë‹¤.
                        var currentScroll = Math.max(document.body.scrollTop, document.documentElement.scrollTop);
                        new daum.Postcode({
                            oncomplete: function(data) {
                                // ê²€ìƒ‰ê²°ê³¼ í•­ëª©ì„ í´ë¦­í–ˆì„ë•Œ ì‹¤í–‰í•  ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë¶€ë¶„.

                                // ê° ì£¼ì†Œì˜ ë…¸ì¶œ ê·œì¹™ì— ë”°ë¼ ì£¼ì†Œë¥¼ ì¡°í•©í•œë‹¤.
                                // ë‚´ë ¤ì˜¤ëŠ” ë³€ìˆ˜ê°€ ê°’ì´ ì—†ëŠ” ê²½ìš°ì—” ê³µë°±('')ê°’ì„ ê°€ì§€ë¯€ë¡œ, ì´ë¥¼ ì°¸ê³ í•˜ì—¬ ë¶„ê¸° í•œë‹¤.
                                var addr = ''; // ì£¼ì†Œ ë³€ìˆ˜
                                var extraAddr = ''; // ì°¸ê³ í•­ëª© ë³€ìˆ˜

                                //ì‚¬ìš©ìê°€ ì„ íƒí•œ ì£¼ì†Œ íƒ€ì…ì— ë”°ë¼ í•´ë‹¹ ì£¼ì†Œ ê°’ì„ ê°€ì ¸ì˜¨ë‹¤.
                                if (data.userSelectedType === 'R') { // ì‚¬ìš©ìê°€ ë„ë¡œëª… ì£¼ì†Œë¥¼ ì„ íƒí–ˆì„ ê²½ìš°
                                    addr = data.roadAddress;
                                } else { // ì‚¬ìš©ìê°€ ì§€ë²ˆ ì£¼ì†Œë¥¼ ì„ íƒí–ˆì„ ê²½ìš°(J)
                                    addr = data.jibunAddress;
                                }

                                // ì‚¬ìš©ìê°€ ì„ íƒí•œ ì£¼ì†Œê°€ ë„ë¡œëª… íƒ€ì…ì¼ë•Œ ì°¸ê³ í•­ëª©ì„ ì¡°í•©í•œë‹¤.
                                if(data.userSelectedType === 'R'){
                                    // ë²•ì •ë™ëª…ì´ ìˆì„ ê²½ìš° ì¶”ê°€í•œë‹¤. (ë²•ì •ë¦¬ëŠ” ì œì™¸)
                                    // ë²•ì •ë™ì˜ ê²½ìš° ë§ˆì§€ë§‰ ë¬¸ìê°€ "ë™/ë¡œ/ê°€"ë¡œ ëë‚œë‹¤.
                                    if(data.bname !== '' && /[ë™|ë¡œ|ê°€]$/g.test(data.bname)){
                                        extraAddr += data.bname;
                                    }
                                    // ê±´ë¬¼ëª…ì´ ìˆê³ , ê³µë™ì£¼íƒì¼ ê²½ìš° ì¶”ê°€í•œë‹¤.
                                    if(data.buildingName !== '' && data.apartment === 'Y'){
                                        extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                                    }
                                    // í‘œì‹œí•  ì°¸ê³ í•­ëª©ì´ ìˆì„ ê²½ìš°, ê´„í˜¸ê¹Œì§€ ì¶”ê°€í•œ ìµœì¢… ë¬¸ìì—´ì„ ë§Œë“ ë‹¤.
                                    if(extraAddr !== ''){
                                        extraAddr = '('+extraAddr+')';
                                    }
                                    // ì¡°í•©ëœ ì°¸ê³ í•­ëª©ì„ í•´ë‹¹ í•„ë“œì— ë„£ëŠ”ë‹¤.
                                    document.getElementById("extraAddress").value = extraAddr;

                                } else {
                                    document.getElementById("extraAddress").value = '';
                                }

                                // ìš°í¸ë²ˆí˜¸ì™€ ì£¼ì†Œ ì •ë³´ë¥¼ í•´ë‹¹ í•„ë“œì— ë„£ëŠ”ë‹¤.
                                document.getElementById('postcode').value = data.zonecode;
                                document.getElementById("address").value = addr;
                                // ì»¤ì„œë¥¼ ìƒì„¸ì£¼ì†Œ í•„ë“œë¡œ ì´ë™í•œë‹¤.
                                document.getElementById("detailAddress").focus();

                                // iframeì„ ë„£ì€ elementë¥¼ ì•ˆë³´ì´ê²Œ í•œë‹¤.
                                // (autoClose:false ê¸°ëŠ¥ì„ ì´ìš©í•œë‹¤ë©´, ì•„ë˜ ì½”ë“œë¥¼ ì œê±°í•´ì•¼ í™”ë©´ì—ì„œ ì‚¬ë¼ì§€ì§€ ì•ŠëŠ”ë‹¤.)
                                element_wrap.style.display = 'none';

                                // ìš°í¸ë²ˆí˜¸ ì°¾ê¸° í™”ë©´ì´ ë³´ì´ê¸° ì´ì „ìœ¼ë¡œ scroll ìœ„ì¹˜ë¥¼ ë˜ëŒë¦°ë‹¤.
                                document.body.scrollTop = currentScroll;
                            },
                            // ìš°í¸ë²ˆí˜¸ ì°¾ê¸° í™”ë©´ í¬ê¸°ê°€ ì¡°ì •ë˜ì—ˆì„ë•Œ ì‹¤í–‰í•  ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ë¶€ë¶„. iframeì„ ë„£ì€ elementì˜ ë†’ì´ê°’ì„ ì¡°ì •í•œë‹¤.
                            onresize : function(size) {
                                element_wrap.style.height = size.height+'px';
                            },
                            width : '100%',
                            height : '100%'
                        }).embed(element_wrap);

                        // iframeì„ ë„£ì€ elementë¥¼ ë³´ì´ê²Œ í•œë‹¤.
                        element_wrap.style.display = 'block';
                    }
                </script>

                <label for="userEmail">Email :</label>
                <input type="email" class="form-control" id="userEmail" name="" placeholder="cwu@chillwithus.com"><br>

                <label for="userGender">Gender : </label> &nbsp;&nbsp;
                <input type="radio" name="gender" id="Male" value="M">
                <label for="Male">ë‚¨ì</label> &nbsp;&nbsp;
                <input type="radio" name="gender" id="Female" value="F">
                <label for="Female">ì—¬ì</label><br>
            </div>
            <br>
            <div class="btns" align="center">
                <button type="submit" class="btn btn-primary">íšŒì›ê°€ì…</button>
                <button type="reset" class="btn btn-warning">ì´ˆê¸°í™”</button>
            </div>
        </form>
    </div>
    <br>
</div>

<div th:insert="~{footer :: footer}"></div>
</body>
</html>